{% for needed_book in needed_books %}
    {% autoescape off %}{% cycle '<div class="row">' '' %}{% endautoescape %}
    {% include "bulb/exchange/components/preview_needed_book.html" %}
    {% autoescape off %}
    {% cycle '' '</div>' %}
{% if not forloop.last %}
    <hr {% cycle 'class="visible-xs"' '' %}>
{% elif not forloop.counter|divisibleby:3 %}
    </div>
{% endif %}
    {% endautoescape %}
{% empty %}
    <p>لا توجد كتب هنا.</p>
{% endfor %}